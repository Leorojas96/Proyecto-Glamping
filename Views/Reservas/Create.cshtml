@model Glamping2.Models.Reserva

@{
    ViewData["Title"] = "Create";
    var esAdministrador = ViewBag.EsAdministrador as bool? ?? false;
}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="/CSS/tipoHabitacion.css">
    <link rel="stylesheet" href="/CSS/PagPrincipal.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="icon" href="/imagenes/icono.jpg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div>
        <h1>Reserva</h1>

        <form asp-action="Create">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="FechaReserva" class="control-label">Fecha Reserva</label>
                        <input asp-for="FechaReserva" class="form-control" type="date" readonly="readonly" />
                        <span asp-validation-for="FechaReserva" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">

                        <label asp-for="FechaInicio" class="control-label">Fecha Inicio</label>
                        <input asp-for="FechaInicio" class="form-control" type="date" />
                        <span asp-validation-for="FechaInicio" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">

                        <label asp-for="FechaFin" class="control-label">Fecha Fin</label>
                        <input asp-for="FechaFin" class="form-control" type="date"/>
                        <span asp-validation-for="FechaFin" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="NroPersonas" class="control-label">Número de Personas</label>
                        <input asp-for="NroPersonas" class="form-control" type="number" min="1" max="6" placeholder="Ingrese el número de personas" value="" />
                        <span asp-validation-for="NroPersonas" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="Abono" class="control-label">Abono</label>
                        <input asp-for="Abono" class="form-control" type="number" step="1" placeholder="Ingrese el abono" value="" />
                        <span asp-validation-for="Abono" class="text-danger"></span>
                    </div>
                </div>
               
                    
                
                <input asp-for="Total" type="hidden"/>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="control-label">Usuario</label>
                        <input type="text" class="form-control" value="@ViewData["UsuarioNombre"]" readonly />
                        <input asp-for="IdUsuario" type="hidden" value="@ViewData["IdUsuario"]" />
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="IdPaquetes" class="control-label">Paquete</label>
                        <select asp-for="IdPaquetes" class="form-control" id="IdPaquetes">
                            <option value="">Seleccionar Paquete</option>
                            @if (ViewBag.Paquetes != null)
                            {
                                foreach (var paquete in (List<Glamping2.Models.Paquete>)ViewBag.Paquetes)
                                {
                                    <option value="@paquete.IdPaquetes" data-precio="@paquete.Precio">@paquete.NomPaquete</option>
                                }
                            }
                        </select>
                        <span asp-validation-for="IdPaquetes" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">

                        <input asp-for="EstadoReserva" class="form-control" type="hidden" step="1" />

                    </div>
                </div>
            </div>

            <nav id="div_btn">
                <input value="Guardar" type="submit" class="login-button" onclick="return confirmarEnvio();" />
                <input value="Cancelar" type="button" class="login-button" onclick="location.href='@Url.Action("Index", "Home")'" />
            </nav>
        </form>
    </div>

    <script>
        function confirmarEnvio() {
            const mensaje = "El precio del paquete cubre 2 días. Los días adicionales tienen un valor de $30,000 c/u. ¿Desea continuar?";
            return confirm(mensaje);
        }
    </script>

    @section Scripts {
        @{
            await Html.RenderPartialAsync("_ValidationScriptsPartial");
        }

    }
</body>

